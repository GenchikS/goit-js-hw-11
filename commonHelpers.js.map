{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = `44770113-cb4279c01992ac20f8c79d080`;\n\nexport function getImages(inputText) {\n    return fetch (`https://pixabay.com/api/?key=${API_KEY}&q=${inputText}&image_type=photo&orientation=horizontal&safesearch=true`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n}\n\n","const gallery = document.querySelector(\".gallery\");\n\nfunction renderMarcup(arr) {\n    // console.log(\"arr\", arr)  //  перевірка масиву\n\n    const marcup =  arr.map(\n        ({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n        <li class=\"container-list\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"img-list\" src=\"${webformatURL}\" alt=\"${tags}\">\n            <ul class=\"container-cart\">\n                <li class=\"list-cart\">\n                    <p class=\"likes-cart\">Likes</p>\n                    <p class=\"number-likes\">${likes}</p>\n                </li>\n                <li class=\"list-cart\">\n                    <p class=\"views-cart\">Views</p>\n                    <p class=\"number-views\">${views}</p>\n                </li>\n                <li class=\"list-cart\">\n                    <p class=\"comments-cart\">comments</p>\n                    <p class=\"number-comments\">${comments}</p>\n                </li>\n                <li class=\"list-cart\">\n                    <p class=\"downloads-cart\">downloads</p>\n                    <p class=\"number-downloads\">${downloads}</p>\n                </li>\n            </ul>\n        </img>\n        </a>\n    </li>\n    `).join(``)\n\n    gallery.insertAdjacentHTML(\"beforeend\", marcup);  //  ф-ція виклику створення скелету розмітки\n}\n\n\n\n\n\n\n// ------  EXPORT  ------\nexport {renderMarcup};\n\n","import SimpleLightbox from \"simplelightbox\";\n// console.log(SimpleLightbox)  //  перевірка підключення бібліотеки\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport {renderMarcup} from \"./js/render-functions\";\nimport { getImages } from \"./js/pixabay-api\";\n\nconst inputForm = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loading = document.querySelector(\".loading\");\n\nlet userPhoto = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250\n});\n\nloading.style.display = \"none\";\n\ninputForm.addEventListener(`submit`, handleSubmit);\n\nlet inputText = \"\";\n\nloading.style.display = \"visibility\";\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  loading.style.display = \"visibility\";\n  const form = event.target;  //  доступ до форми\n  inputText = (form.elements.input.value).trim();  //  отримання значення вводу в форму інпут + прибирання пробілів\n  // console.log(\"eventTarget\", inputText)  //  перевірка введеного значення\n  if (inputText === \"\") {\n    return\n  } else {\n    getImages(inputText)\n      .then((data) => {\n        // console.log(\"data\", data.hits)  //  перевірка отриманого масиву\n        if (Number(data.hits.length) === 0) {  //  умова перевірки на пустий масив\n          iziToast.show({   //  підключення бібліотеки iziToast\n            title: 'Sorry, there are no images matching your search query. Please try again!'\n          });\n        } else {\n          gallery.innerHTML = \"\";  //  очистка попереднього контенту\n          // iziToast.show({   //  підключення бібліотеки iziToast\n          //   title: 'Loading images, please wait ... ', timeout: 250, position: 'topCenter'\n          // });\n          renderMarcup(data.hits)\n          userPhoto.refresh();  //  виклик та можливість зміни фото в модальному вікні\n        }\n       \n      })  //  при response звернення іде до ключа hits та викликається ф-ція виклику створення скелету розмітки з отриманим масивом\n      .catch((err) => console.log(\"error\", err))\n    }\n  form.reset();\n  loading.style.display = \"none\";\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["API_KEY","getImages","inputText","response","gallery","renderMarcup","arr","marcup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","inputForm","loading","userPhoto","SimpleLightbox","handleSubmit","event","form","data","iziToast","err"],"mappings":"6vBAAA,MAAMA,EAAU,qCAET,SAASC,EAAUC,EAAW,CACjC,OAAO,MAAO,gCAAgCF,CAAO,MAAME,CAAS,0DAA0D,EAC7H,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,CACL,CCVA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAaC,EAAK,CAGvB,MAAMC,EAAUD,EAAI,IAChB,CAAC,CAAC,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA,4CAExCL,CAAa;AAAA,yCAChBD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,8CAIrBC,CAAK;AAAA;AAAA;AAAA;AAAA,8CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iDAIFC,CAAQ;AAAA;AAAA;AAAA;AAAA,kDAIPC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMtD,EAAE,KAAK,EAAE,EAEVV,EAAQ,mBAAmB,YAAaG,CAAM,CAClD,CCvBA,MAAMQ,EAAY,SAAS,cAAc,OAAO,EAC1CX,EAAU,SAAS,cAAc,UAAU,EAC3CY,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAIC,EAAY,IAAIC,EAAe,aAAc,CAC7C,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAC,EAEDF,EAAQ,MAAM,QAAU,OAExBD,EAAU,iBAAiB,SAAUI,CAAY,EAEjD,IAAIjB,EAAY,GAEhBc,EAAQ,MAAM,QAAU,aAExB,SAASG,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBJ,EAAQ,MAAM,QAAU,aACxB,MAAMK,EAAOD,EAAM,OACnBlB,EAAamB,EAAK,SAAS,MAAM,MAAO,OAEpCnB,IAAc,KAGhBD,EAAUC,CAAS,EAChB,KAAMoB,GAAS,CAEV,OAAOA,EAAK,KAAK,MAAM,IAAM,EAC/BC,EAAS,KAAK,CACZ,MAAO,0EACnB,CAAW,GAEDnB,EAAQ,UAAY,GAIpBC,EAAaiB,EAAK,IAAI,EACtBL,EAAU,QAAO,EAG3B,CAAO,EACA,MAAOO,GAAQ,QAAQ,IAAI,QAASA,CAAG,CAAC,EAE7CH,EAAK,MAAK,EACVL,EAAQ,MAAM,QAAU,OAC1B"}